<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B型肝炎健保治療條件篩檢</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>B型肝炎健保治療條件篩檢</h1>
            <p>請填寫以下資料，檢查您是否符合健保給付條件</p>
        </header>

        <main>
            <form id="hepatitisForm">
                <div class="section">
                    <h2>基本資料</h2>
                    <div class="form-group">
                        <label for="name">姓名：</label>
                        <input type="text" id="name" name="name">
                    </div>
                    <div class="form-group">
                        <label for="birthdate">出生日期：</label>
                        <input type="date" id="birthdate" name="birthdate">
                    </div>
                    <div class="form-group">
                        <label for="gender">性別：</label>
                        <select id="gender" name="gender">
                            <option value="">請選擇</option>
                            <option value="male">男</option>
                            <option value="female">女</option>
                        </select>
                    </div>
                </div>

                <div class="section">
                    <h2>檢驗數據</h2>
                    <div class="form-group">
                        <label for="hbsag">HBsAg (表面抗原)：</label>
                        <select id="hbsag" name="hbsag">
                            <option value="">請選擇</option>
                            <option value="positive">陽性</option>
                            <option value="negative">陰性</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="hbeag">HBeAg (e抗原)：</label>
                        <select id="hbeag" name="hbeag">
                            <option value="">請選擇</option>
                            <option value="positive">陽性</option>
                            <option value="negative">陰性</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="hbvdna">HBV DNA (IU/mL)：</label>
                        <input type="number" id="hbvdna" name="hbvdna" min="0">
                    </div>
                    <div class="form-group">
                        <label for="alt">ALT (U/L)：</label>
                        <input type="number" id="alt" name="alt" min="0">
                    </div>
                    <div class="form-group">
                        <label for="ast">AST (U/L)：</label>
                        <input type="number" id="ast" name="ast" min="0">
                    </div>
                    <div class="form-group">
                        <label for="alt_upper_limit">ALT正常值上限 (U/L)：</label>
                        <input type="number" id="alt_upper_limit" name="alt_upper_limit" value="40" min="0">
                    </div>
                    <div class="form-group">
                        <label for="prothrombin_time">凝血酶原時間延長 (秒)：</label>
                        <input type="number" id="prothrombin_time" name="prothrombin_time" min="0" step="0.1">
                    </div>
                    <div class="form-group">
                        <label for="bilirubin">總膽紅素 (mg/dL)：</label>
                        <input type="number" id="bilirubin" name="bilirubin" min="0" step="0.1">
                    </div>
                    <div class="form-group">
                        <label for="platelets">血小板 (×10³/μL)：</label>
                        <input type="number" id="platelets" name="platelets" min="0">
                    </div>
                </div>

                <div class="section">
                    <h2>肝臟狀態</h2>
                    <div class="form-group">
                        <label>肝硬化診斷：</label>
                        <div class="checkbox-group">
                            <input type="checkbox" id="liver_biopsy" name="liver_biopsy">
                            <label for="liver_biopsy">肝組織切片 (Metavir F4或Ishak F5以上)</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="varices" name="varices">
                            <label for="varices">超音波診斷為肝硬化併食道或胃靜脈曲張</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="splenomegaly" name="splenomegaly">
                            <label for="splenomegaly">超音波診斷為肝硬化併脾腫大</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="low_platelets" name="low_platelets">
                            <label for="low_platelets">超音波診斷為肝硬化且血小板<120,000/μL</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="fibroscan" name="fibroscan">
                            <label for="fibroscan">肝硬度超音波診斷為肝硬化 (Fibroscan≧12Kpa或ARFI≧1.98)</label>
                        </div>
                        <div class="checkbox-group">
                            <input type="checkbox" id="ct_mri" name="ct_mri">
                            <label for="ct_mri">電腦斷層或核磁共振檢查診斷為肝硬化</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>肝纖維化程度：</label>
                        <div class="radio-group">
                            <input type="radio" id="fibrosis_f0" name="fibrosis" value="F0">
                            <label for="fibrosis_f0">F0 (無纖維化)</label>
                        </div>
                        <div class="radio-group">
                            <input type="radio" id="fibrosis_f1" name="fibrosis" value="F1">
                            <label for="fibrosis_f1">F1 (輕度纖維化)</label>
                        </div>
                        <div class="radio-group">
                            <input type="radio" id="fibrosis_f2" name="fibrosis" value="F2">
                            <label for="fibrosis_f2">F2 (中度纖維化)</label>
                        </div>
                        <div class="radio-group">
                            <input type="radio" id="fibrosis_f3" name="fibrosis" value="F3">
                            <label for="fibrosis_f3">F3 (重度纖維化)</label>
                        </div>
                        <div class="radio-group">
                            <input type="radio" id="fibrosis_f4" name="fibrosis" value="F4">
                            <label for="fibrosis_f4">F4 (肝硬化)</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="fibroscan_value">Fibroscan值 (kPa)：</label>
                        <input type="number" id="fibroscan_value" name="fibroscan_value" min="0" step="0.1">
                    </div>
                    <div class="form-group">
                        <label for="arfi_value">ARFI值：</label>
                        <input type="number" id="arfi_value" name="arfi_value" min="0" step="0.01">
                    </div>
                    <div class="form-group">
                        <label for="fib4_value">FIB-4值：</label>
                        <input type="number" id="fib4_value" name="fib4_value" min="0" step="0.01">
                    </div>
                </div>

                <div class="section">
                    <h2>特殊情況</h2>
                    <div class="checkbox-group">
                        <input type="checkbox" id="liver_failure" name="liver_failure">
                        <label for="liver_failure">肝代償不全</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="organ_transplant" name="organ_transplant">
                        <label for="organ_transplant">接受非肝之器官移植</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="liver_transplant" name="liver_transplant">
                        <label for="liver_transplant">接受肝臟移植</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="chemotherapy" name="chemotherapy">
                        <label for="chemotherapy">接受癌症化學療法</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="liver_cancer" name="liver_cancer">
                        <label for="liver_cancer">確診為肝癌並接受根除性治療</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="immunosuppressants" name="immunosuppressants">
                        <label for="immunosuppressants">接受免疫抑制劑治療</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="pregnancy" name="pregnancy">
                        <label for="pregnancy">懷孕</label>
                    </div>
                    <div class="form-group" id="pregnancy_week_group" style="display: none;">
                        <label for="pregnancy_week">懷孕週數：</label>
                        <input type="number" id="pregnancy_week" name="pregnancy_week" min="0" max="42">
                    </div>
                </div>

                <div class="button-group">
                    <button type="button" id="checkButton">檢查資格</button>
                    <button type="reset">重設</button>
                </div>
            </form>

            <div id="resultSection" class="result-section" style="display: none;">
                <h2>篩檢結果</h2>
                <div id="resultContent"></div>
                <div class="button-group">
                    <button type="button" id="backButton">返回修改</button>
                </div>
            </div>
        </main>

        <footer>
            <p>本工具僅供參考，實際給付條件請以健保署公告為準。</p>
            <p>© 2023 B型肝炎健保治療條件篩檢應用</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>
